<?php

    $prefix = "";
    if (property_exists($this, 'prefix')) {
        $prefix = $this->prefix;
    }

    $startname = $prefix . 'start_date';
    $endname = $prefix . 'end_date';

    $startval = "";
    $endval = "";

    if (property_exists($this, 'start_date')) {
        $startval = $this->start_date;
    }
    if (property_exists($this, 'end_date')) {
        $endval = $this->end_date;
    }

    echo '<span>';
    if (property_exists($this, 'label')) {
        echo $this->formLabel("", $this->label, array('class' => 'fieldLabel'));
    }

    if (property_exists($this, 'showvalue') && $this->showvalue) {
        echo $this->formCheckbox($prefix . 'showdate');
    }

    $cal = ' <a class="calendarbtn" href="#"><img src="' . $this->base_url . '/js/yui/assets/calbtn.gif"></a>';

    echo $this->formText($startname, $startval, array('id' => $startname, 'class' => 'datepicker'));
    echo $cal;
    echo ' ' . $this->formLabel("", t('to'), array('class' => 'label')) . ' ';
    echo $this->formText($endname, $endval, array('id' => $endname, 'class' => 'datepicker'));
    echo $cal;
    echo '</span>';
    ?>

    <div class="clear pad20"></div>
